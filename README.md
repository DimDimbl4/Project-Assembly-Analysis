# üõ†Ô∏è Get-ProjectAssemblyAnalysis.py

[![Python Version](https://img.shields.io/badge/python-3.6%2B-blue)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)

---

## üìÑ –û–ø–∏—Å–∞–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è. –ü–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å:

* –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
* –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã
* –î—Ä—É–≥–∏–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã:

1. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏
2. –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
3. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ —Ç–∏–ø–∞–º
4. –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Python 3.6 –∏ –≤—ã—à–µ
* –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install python-magic
```
* –î–ª—è —Ä–∞–±–æ—Ç—ã –≤ Linux –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

```bash
sudo apt install libmagic1
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ)

* **Windows:** Process Monitor (ProcMon)
* **Linux:** inotifywait, strace –∏–ª–∏ auditd

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JSON-—Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ü—Ä–∏–º–µ—Ä `config.json`:

```json
{
    "source_exts": [".c", ".cpp", ".h", ".py"],
    "binary_exts": [".exe", ".dll", ".so"],
    "source_keywords": ["#include", "def ", "class "],
    "procmon_filters": [
        "Operation is ReadFile",
        "Operation is WriteFile",
        "Operation is CreateFile"
    ],
    "ignore_patterns": [".git/*", "*.tmp", "__pycache__/*"]
}
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

* –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```bash
python Get-ProjectAssemblyAnalysis.py --target-dir /path/to/project --start-monitor
```

* –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```bash
python Get-ProjectAssemblyAnalysis.py --stop-monitor
```

* –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤:

```bash
python Get-ProjectAssemblyAnalysis.py --target-dir /path/to/project --log-file monitor.log
```

---

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

#### –û–±—â–∏–µ

* `--target-dir` ‚Äî –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä)
* `--config` ‚Äî –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É (JSON)
* `--platform` ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (windows/linux), –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
* `--verbose` ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

* `--start-monitor` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
* `--stop-monitor` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
* `--monitor-output` ‚Äî —Ñ–∞–π–ª –¥–ª—è –ª–æ–≥–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
* `--linux-tool` ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è Linux (inotifywait/strace/auditd)
* `--auto-auditd` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ auditd (—Ç—Ä–µ–±—É—é—Ç—Å—è sudo-–ø—Ä–∞–≤–∞)

#### –ê–Ω–∞–ª–∏–∑

* `--log-file` ‚Äî —Ñ–∞–π–ª —Å –ª–æ–≥–∞–º–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
* `--output` ‚Äî —Ñ–∞–π–ª –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
* `--export-format` ‚Äî —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: `text` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), `json`, `csv`
* `--smart-classify` ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Ñ–∞–π–ª–æ–≤

---

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Windows ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑

```bash
python Get-ProjectAssemblyAnalysis.py --target-dir C:\my_project --start-monitor --monitor-output build_monitor.pml
```

–í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–±–æ—Ä–∫—É, –∑–∞—Ç–µ–º:

```bash
python Get-ProjectAssemblyAnalysis.py --stop-monitor
```

–ê–Ω–∞–ª–∏–∑:

```bash
python Get-ProjectAssemblyAnalysis.py --target-dir C:\my_project --log-file build_monitor.pml --output unused_files.json --export-format json
```

### Linux ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å inotifywait

```bash
python Get-ProjectAssemblyAnalysis.py --target-dir /home/user/project --start-monitor --linux-tool inotifywait --monitor-output build.log
```

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏:

```bash
python Get-ProjectAssemblyAnalysis.py --target-dir /home/user/project --log-file build.log --smart-classify --output report.txt
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
python Get-ProjectAssemblyAnalysis.py --target-dir /path/to/project --config my_config.json --log-file build.log --output results.csv --export-format csv
```

---

## üìä –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–§–∞–π–ª—ã –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –Ω–∞:

1. **source** ‚Äî –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ (–∫–æ–¥, —Å–∫—Ä–∏–ø—Ç—ã)
2. **binary** ‚Äî –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
3. **other** ‚Äî –ø—Ä–æ—á–∏–µ —Ñ–∞–π–ª—ã (–¥–æ–∫—É–º–µ–Ω—Ç—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –¥—Ä.)
4. **ignored** ‚Äî —Ñ–∞–π–ª—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è:**

  * –ë–∞–∑–æ–≤–∞—è ‚Äî –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º (–±—ã—Å—Ç—Ä–µ–µ)
  * –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è (`--smart-classify`) ‚Äî –∞–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (—Ç–æ—á–Ω–µ–µ)

* **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**

  * Windows: ProcMon
  * Linux: inotifywait / strace / auditd (–Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –Ω–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–∑–Ω—ã–µ)

* **–§–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞:** text, json, csv

---

## üí° –°–æ–≤–µ—Ç—ã

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--smart-classify` –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
* –ù–∞ Linux –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –ª—É—á—à–µ auditd + `--auto-auditd`
* –î–ª—è CI/CD –ª—É—á—à–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ JSON –∏–ª–∏ CSV
* –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ –ø–æ–¥ –≤–∞—à –ø—Ä–æ–µ–∫—Ç (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## ‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –ø–∏—à—É—Ç—Å—è –≤ `file_analyzer.log` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
* `--verbose` –≤—ã–≤–æ–¥–∏—Ç –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å
* –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ auditd –∏ sudo ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ–≤–µ—Ä–∏–µ –∫ —Å–∫—Ä–∏–ø—Ç—É –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ª–∏—Ü–µ–Ω–∑–∏—è

–ê–≤—Ç–æ—Ä—ã:

–ú–∞–∫–∞—Ä–æ–≤ –î–º–∏—Ç—Ä–∏–π ‚Äî [GitHub](https://github.com/DimDimbl4)

–í–∞–ª–µ–Ω—Ç–∏–∫ –î–∞–Ω–∏–∏–ª

–ê–Ω–∞—Å—Ç–∞—Å–∏—è –°–µ–º—è–Ω–Ω–∏–∫–æ–≤–∞

–õ–∏—Ü–µ–Ω–∑–∏—è: MIT ‚Äî —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª LICENSE

---

> –°–∫—Ä–∏–ø—Ç –ø–æ–º–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞, –≤—ã—è–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Å–±–æ—Ä–∫–∏.

---
